{% load static %}

<nav class="navbar navbar-expand-md navbar-light bg-light sticky">
    <div class="container-fluid d-flex justify-content-space-between">
        <div class="">
            <!-- Agregar el logo de la pagina/empresa en donde esta escrito el texto LOGO, buscar la imagen logo ya que no funicona la que descarger -->
            <a class="navbar-brand" href="{% url 'inicio' %}">
                <img src="{%  static 'core/img/AR_logo_round.png' %}" />
            </a>
            <span id="displayUser"></span>
        </div>
        {% comment %} TODO: dejar esta wea responsiva {% endcomment %}
        <div class="ms-auto d-flex justify-content-space-between align-items-center">
            <div class="">
                <div class="widgets">
                    {% if user.is_authenticated %}
                        <article id="carro" class="carro d-none bg-light p-2">
                            <h4 class="carro__header">Carrito de Compra</h4>
                            <section class="carro__body">
                                <ul class="carro__item-list" data-carro-lista>
                                </ul>
                            </section>
                            <div class="d-flex justify-content-between align-items-center px-3">
                                <span data-carro-total class="text-right">
                                </span>
                                <a href="{% url 'carro.show' %}" class="btn btn-primary">Ir al Carro</a>
                            </div>
                        </article>
                        <button class="nav-item carro-compra ml-1 border-0 bg-transparent" data-toggle-carro>
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                            </svg>
                        </button>
                    {% endif %}
                    <article id="manageUser" class="manage-user bg-light p-4 d-none">
                        <h4 id="displayUserManagement" class="manage-user__title"></h4>
                        <section class="manage-user__body d-flex flex-column align-items-start">
                            <a id="sign_up" class="manage-user__option my-2 sign_up" href="{% url "signUp" %}">
                                Registrarse
                            </a>
                            <a id="sign_in" class="manage-user__option my-2 sign_in" href="{% url "signIn" %}">
                                Log In
                            </a>
                            <button class="manage-user__option my-2 px-0 signout bg-transparent border-0" data-signout>
                                Log Out
                            </button>
                        </section>
                    </article>
                    <button class="nav-item carro-compra ml-1 border-0 bg-transparent" data-toggle-user>
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 448 512"><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
                    </button>
                </div>
            </div>
            <div class="">
                <button
                    class="navbar-toggler"
                    type="button"
                    data-toggle="collapse"
                    data-target="#navbarNavAltMarkup"
                    aria-controls="navbarNavAltMarkup"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div v class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav ml-auto align-items-end p-2">
                        <a class="nav-item nav-link {% if request.resolver_match.url_name == 'inicio' %}active{% endif %}" href="{% url 'inicio' %}">Inicio {% if request.resolver_match.url_name == 'inicio' %}<span class="sr-only"> (current)</span>{% endif %}</a>
                        <a class="nav-item nav-link {% if request.resolver_match.url_name == 'tienda' %}active{% endif %}" href="{% url 'tienda' %}">Tienda</a>
                        <a class="nav-item nav-link {% if request.resolver_match.url_name == 'trabajos' %}active{% endif %}" href="{% url 'trabajos' %}">Nuestro Trabajo</a>
                        <a class="nav-item nav-link {% if request.resolver_match.url_name == 'detailing' %}active{% endif %}" href="{% url 'detailing.create' %}">Contratar Detailing</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</nav>
